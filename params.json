{"name":"Dockerana","tagline":"","body":"[dockerana](http://dockerana.com/)\r\n=========\r\n\r\n[Pitch](http://dockerana.com/slides.html):\r\n\r\n* time-series (note kibana, graphite, etc)\r\n* here is how to build/run this, drops-in and autodiscovers on ubuntu 14.04 at moment\r\n* where to find it (github, docker index, etc.)\r\n\r\n<img src=\"http://thecabin.net/sites/default/files/bigfoot.jpg\">\r\n\r\n#### Initial setup :\r\n\r\n* disclaimer about logs & disk space (upstart will rotate/etc; but growth of backend, etc.)\r\n* assumes ipv4 only at this point\r\n\r\nUbuntu 14.04 (assumes vanilla install w/ rsyslog, etc.):\r\n\r\nOfficial install from http://docs.docker.io/installation/ubuntulinux/#ubuntu-trusty-1404-lts-64-bit\r\n\r\n```\r\nsudo apt-get update\r\nsudo apt-get install docker.io\r\nsudo ln -sf /usr/bin/docker.io /usr/local/bin/docker\r\nsudo sed -i '$acomplete -F _docker docker' /etc/bash_completion.d/docker.io\r\n```\r\n\r\nUpdate to a current docker:\r\n\r\n```\r\ncd /tmp\r\nwget https://get.docker.io/builds/Linux/x86_64/docker-latest -O docker\r\nsudo mv docker /usr/bin/docker.io\r\nsudo chown root:root /usr/bin/docker.io\r\nsudo chmod 755 /usr/bin/docker.io\r\n```\r\n\r\nMake these changes :\r\n\r\n(FIXME deal with situation where pre-existing docker_opts exist/ordering/etc)\r\n\r\n```\r\nprintf \"\\n# Added for dockerana log aggregation\\nDOCKER_OPTS=\\\" -D\\\"\\n\" | sudo tee -a /etc/default/docker.io > /dev/null\r\nsudo perl -pi -e 's/(\\\"\\$DOCKER\\\" -d \\$DOCKER_OPTS)/$1 2>&1 | logger -t docker\\n\\tnetstat --interfaces -c | logger -t netstat &/' docker.io.conf\r\n\r\n```\r\n\r\nGo ahead and start docker:\r\n\r\n```\r\nsudo service docker.io start\r\n```\r\n\r\nTo build:\r\n\r\n```\r\n./build\r\n```\r\n\r\nTo start:\r\n\r\n```\r\n./start\r\n```\r\n\r\nTo stop:\r\n\r\n```\r\n./stop\r\n```\r\n\r\nScreenshots:\r\n\r\n<img src=\"documentation/screenshots/1.png\">\r\n<img src=\"documentation/screenshots/2.png\">\r\n<img src=\"documentation/screenshots/3.png\">\r\n","google":"UA-51734691-1","note":"Don't delete this file! It's used internally to help with page regeneration."}